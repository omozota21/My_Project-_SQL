{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/User PC1/Desktop/My_Project/reactfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User PC1/Desktop/My_Project/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\User PC1\\\\Desktop\\\\My_Project\\\\reactfront\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";import{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var URI='http://localhost:8000/blogs/';var CompEditBlog=function CompEditBlog(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;//procedimiento para actualizar\nvar update=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.put(URI+id,{title:title,content:content});case 3:navigate('/');case 4:case\"end\":return _context.stop();}}},_callee);}));return function update(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getBlogById();},[]);var getBlogById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(URI+id);case 2:res=_context2.sent;setTitle(res.data.title);setContent(res.data.content);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getBlogById(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit POST\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:update,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{value:title,onChange:function onChange(e){return setTitle(e.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:function onChange(e){return setContent(e.target.value);},type:\"text\",className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"})]})]});};export default CompEditBlog;","map":{"version":3,"sources":["C:/Users/User PC1/Desktop/My_Project/reactfront/src/blog/EditBlog.js"],"names":["axios","useEffect","useState","useNavigate","useParams","URI","CompEditBlog","title","setTitle","content","setContent","navigate","id","update","e","preventDefault","put","getBlogById","get","res","data","target","value"],"mappings":"4ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,SAAtB,KAAuC,kBAAvC,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,8BAAZ,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAA8BN,QAAQ,CAAC,EAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,eAAaC,SAAS,EAAtB,CAAOQ,EAAP,YAAOA,EAAP,CAEA;AACA,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,CAAP,kHACXA,CAAC,CAACC,cAAF,GADW,sBAELf,CAAAA,KAAK,CAACgB,GAAN,CAAUX,GAAG,CAACO,EAAd,CAAkB,CACpBL,KAAK,CAAEA,KADa,CAEpBE,OAAO,CAAEA,OAFW,CAAlB,CAFK,QAMXE,QAAQ,CAAC,GAAD,CAAR,CANW,sDAAH,kBAANE,CAAAA,MAAM,4CAAZ,CASAZ,SAAS,CAAE,UAAI,CACXgB,WAAW,GACd,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMA,CAAAA,WAAW,2FAAG,uKACEjB,CAAAA,KAAK,CAACkB,GAAN,CAAUb,GAAG,CAACO,EAAd,CADF,QACVO,GADU,gBAEhBX,QAAQ,CAACW,GAAG,CAACC,IAAJ,CAASb,KAAV,CAAR,CACAG,UAAU,CAACS,GAAG,CAACC,IAAJ,CAASX,OAAV,CAAV,CAHgB,wDAAH,kBAAXQ,CAAAA,WAAW,2CAAjB,CAMA,mBACI,oCACA,iCADA,cAEA,cAAM,QAAQ,CAAEJ,MAAhB,wBACI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAO,SAAS,CAAC,YAAjB,mBADJ,cAEI,cACI,KAAK,CAAEN,KADX,CAEI,QAAQ,CAAG,kBAACO,CAAD,QAAMN,CAAAA,QAAQ,CAACM,CAAC,CAACO,MAAF,CAASC,KAAV,CAAd,EAFf,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,EAFJ,GADJ,cAUI,aAAK,SAAS,CAAC,MAAf,wBACI,cAAQ,SAAS,CAAC,YAAlB,qBADJ,cAEI,iBACI,KAAK,CAAEb,OADX,CAEI,QAAQ,CAAG,kBAACK,CAAD,QAAMJ,CAAAA,UAAU,CAACI,CAAC,CAACO,MAAF,CAASC,KAAV,CAAhB,EAFf,CAGI,IAAI,CAAC,MAHT,CAII,SAAS,CAAC,cAJd,EAFJ,GAVJ,cAmBI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,oBAnBJ,GAFA,GADJ,CA2BH,CArDD,CAuDA,cAAehB,CAAAA,YAAf","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nconst URI = 'http://localhost:8000/blogs/'\r\n\r\nconst CompEditBlog = () => {\r\n    const [title, setTitle] = useState('')    \r\n    const [content, setContent] = useState('')    \r\n    const navigate = useNavigate()\r\n    const {id} = useParams()\r\n\r\n    //procedimiento para actualizar\r\n    const update = async (e) => {\r\n        e.preventDefault()\r\n        await axios.put(URI+id, {\r\n            title: title,\r\n            content: content\r\n        })\r\n        navigate('/')\r\n    }\r\n\r\n    useEffect( ()=>{\r\n        getBlogById()\r\n    },[])\r\n\r\n    const getBlogById = async () => {\r\n        const res = await axios.get(URI+id)\r\n        setTitle(res.data.title)\r\n        setContent(res.data.content)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n        <h3>Edit POST</h3>\r\n        <form onSubmit={update}>\r\n            <div className=\"mb-3\">\r\n                <label className=\"form-label\">Title</label>\r\n                <input\r\n                    value={title}\r\n                    onChange={ (e)=> setTitle(e.target.value)}\r\n                    type=\"text\"\r\n                    className=\"form-control\"                        \r\n                />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n                <label  className=\"form-label\">Content</label>\r\n                <textarea\r\n                    value={content}\r\n                    onChange={ (e)=> setContent(e.target.value)}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                />\r\n            </div>            \r\n            <button type=\"submit\" className=\"btn btn-primary\">Update</button>\r\n        </form>\r\n    </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CompEditBlog"]},"metadata":{},"sourceType":"module"}