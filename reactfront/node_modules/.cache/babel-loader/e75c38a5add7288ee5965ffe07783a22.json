{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/User PC1/Desktop/My_Project/reactfront/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User PC1/Desktop/My_Project/reactfront/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\User PC1\\\\Desktop\\\\My_Project\\\\reactfront\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';import{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var URI='http://localhost:8000/blogs/';var CompShowBlogs=function CompShowBlogs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlog=_useState2[1];useEffect(function(){getBlogs();},[]);//procedimineto para mostrar todos los blogs\nvar getBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(URI);case 2:res=_context.sent;setBlog(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getBlogs(){return _ref.apply(this,arguments);};}();//procedimineto para eliminar un blog\nvar deleteBlog=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.delete(\"\".concat(URI).concat(id));case 2:getBlogs();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteBlog(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(Link,{to:\"/create\",className:\"btn btn-primary mt-2 mb-2\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-primary\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Content\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:blogs.map(function(blog){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",blog.title,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",blog.content,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(blog.id),className:\"btn btn-info\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteBlog(blog.id);},className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})})]})]},blog.id);})})]})]})})});};export default CompShowBlogs;","map":{"version":3,"sources":["C:/Users/User PC1/Desktop/My_Project/reactfront/src/blog/ShowBlogs.js"],"names":["axios","useState","useEffect","Link","URI","CompShowBlogs","blogs","setBlog","getBlogs","get","res","data","deleteBlog","id","delete","map","blog","title","content"],"mappings":"4ZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,8BAAZ,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAExB,cAAyBJ,QAAQ,CAAC,EAAD,CAAjC,wCAAOK,KAAP,eAAcC,OAAd,eACAL,SAAS,CAAE,UAAI,CACXM,QAAQ,GACX,CAFQ,CAEP,EAFO,CAAT,CAIA;AACA,GAAMA,CAAAA,QAAQ,0FAAG,iKACKR,CAAAA,KAAK,CAACS,GAAN,CAAUL,GAAV,CADL,QACPM,GADO,eAEbH,OAAO,CAACG,GAAG,CAACC,IAAL,CAAP,CAFa,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAKA;AACA,GAAMI,CAAAA,UAAU,2FAAG,kBAAOC,EAAP,6IACVb,CAAAA,KAAK,CAACc,MAAN,WAAgBV,GAAhB,SAAsBS,EAAtB,EADU,QAEhBL,QAAQ,GAFQ,wDAAH,kBAAVI,CAAAA,UAAU,6CAAhB,CAKA,mBACI,YAAK,SAAS,CAAC,WAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,SAAS,CAAC,2BAA7B,uBAAyD,UAAG,SAAS,CAAC,aAAb,EAAzD,EADJ,cAEI,eAAO,SAAS,CAAC,OAAjB,wBACI,cAAO,SAAS,CAAC,eAAjB,uBACI,mCACI,6BADJ,cAEI,+BAFJ,cAGI,+BAHJ,GADJ,EADJ,cAQI,uBACMN,KAAK,CAACS,GAAN,CAAY,SAACC,IAAD,qBACV,mCACI,0BAAOA,IAAI,CAACC,KAAZ,OADJ,cAEI,0BAAOD,IAAI,CAACE,OAAZ,OAFJ,cAGI,mCACI,KAAC,IAAD,EAAM,EAAE,iBAAWF,IAAI,CAACH,EAAhB,CAAR,CAA8B,SAAS,CAAC,cAAxC,uBAAuD,UAAG,SAAS,CAAC,aAAb,EAAvD,EADJ,cAEI,eAAQ,OAAO,CAAG,yBAAID,CAAAA,UAAU,CAACI,IAAI,CAACH,EAAN,CAAd,EAAlB,CAA4C,SAAS,CAAC,gBAAtD,uBAAuE,UAAG,SAAS,CAAC,kBAAb,EAAvE,EAFJ,GAHJ,GAAUG,IAAI,CAACH,EAAf,CADU,EAAZ,CADN,EARJ,GAFJ,GADJ,EADJ,EADJ,CA+BH,CAlDD,CAoDA,cAAeR,CAAAA,aAAf","sourcesContent":["import axios from 'axios'\r\nimport {useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst URI = 'http://localhost:8000/blogs/'\r\n\r\n\r\nconst CompShowBlogs = () => {\r\n    \r\n    const [blogs, setBlog] = useState([])\r\n    useEffect( ()=>{\r\n        getBlogs()\r\n    },[])\r\n\r\n    //procedimineto para mostrar todos los blogs\r\n    const getBlogs = async () => {\r\n        const res = await axios.get(URI)\r\n        setBlog(res.data)\r\n    }\r\n\r\n    //procedimineto para eliminar un blog\r\n    const deleteBlog = async (id) => {\r\n       await axios.delete(`${URI}${id}`)\r\n       getBlogs()\r\n    }\r\n\r\n    return(\r\n        <div className='container'>\r\n            <div className='row'>\r\n                <div className='col'>\r\n                    <Link to=\"/create\" className='btn btn-primary mt-2 mb-2'><i className=\"fas fa-plus\"></i></Link>\r\n                    <table className='table'>\r\n                        <thead className='table-primary'>\r\n                            <tr>\r\n                                <th>Title</th>\r\n                                <th>Content</th>\r\n                                <th>Actions</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            { blogs.map ( (blog) => (\r\n                                <tr key={ blog.id}>\r\n                                    <td> { blog.title } </td>\r\n                                    <td> { blog.content } </td>\r\n                                    <td>\r\n                                        <Link to={`/edit/${blog.id}`} className='btn btn-info'><i className=\"fas fa-edit\"></i></Link>\r\n                                        <button onClick={ ()=>deleteBlog(blog.id) } className='btn btn-danger'><i className=\"fas fa-trash-alt\"></i></button>\r\n                                    </td>\r\n                                </tr>\r\n                            )) }\r\n                        </tbody>\r\n                    </table>\r\n                </div>    \r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CompShowBlogs"]},"metadata":{},"sourceType":"module"}